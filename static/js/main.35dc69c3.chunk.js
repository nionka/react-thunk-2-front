(this["webpackJsonpthunk-front"]=this["webpackJsonpthunk-front"]||[]).push([[0],{32:function(e,t,n){},33:function(e,t,n){},41:function(e,t,n){},43:function(e,t,n){},47:function(e,t,n){"use strict";n.r(t);var r=n(0),c=n(17),a=n.n(c),s=(n(32),n(13)),i=n(4),o=(n(33),n(9)),u=n(10),j=n.n(u),b=n(16),l="CHANGE_SERVICE_FIELD",p="FETCH_SERVICES_REQUEST",d="FETCH_SERVICES_SUCCESS",O="FETCH_SERVICES_FAILURE",v="ADD_SERVICE_REQUEST",h="ADD_SERVICE_FAILURE",f="ADD_SERVICE_SUCCESS",m="FETCH_REMOVE_SERVICE",x="FETCH_EDIT_SERVICE",E="CHANGE_EDIT_SERVICE_FIELD",g="EDIT_SERVICE_SUCCESS";var y=function(){return{type:p}},S=function(e){return{type:O,payload:{error:e}}},_=function(){return function(){var e=Object(b.a)(j.a.mark((function e(t){var n,r;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t(y()),e.prev=1,e.next=4,fetch("https://thunk-back.herokuapp.com/api/services");case 4:if((n=e.sent).ok){e.next=7;break}throw new Error(n.statusText);case 7:return e.next=9,n.json();case 9:r=e.sent,t({type:d,payload:{items:r}}),e.next=16;break;case 13:e.prev=13,e.t0=e.catch(1),t(S(e.t0.message));case 16:case"end":return e.stop()}}),e,null,[[1,13]])})));return function(t){return e.apply(this,arguments)}}()},C=function(e){return function(){var t=Object(b.a)(j.a.mark((function t(n){var r;return j.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n({type:v,payload:{name:void 0,price:void 0}}),n(y()),t.prev=2,t.next=5,fetch("https://thunk-back.herokuapp.com/api/services",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)});case 5:if((r=t.sent).ok){t.next=8;break}throw new Error(r.statusText);case 8:n({type:g}),n({type:f}),t.next=16;break;case 12:t.prev=12,t.t0=t.catch(2),n((c=t.t0.message,{type:h,payload:{error:c}})),n(S(t.t0.message));case 16:n(_());case 17:case"end":return t.stop()}var c}),t,null,[[2,12]])})));return function(e){return t.apply(this,arguments)}}()},k=(n(41),n(1));var w=function(){return Object(k.jsx)("div",{id:"preloader",children:Object(k.jsx)("div",{id:"loader"})})};n(43);var T=function(){return Object(k.jsxs)("div",{className:"errors-page",children:[Object(k.jsx)("div",{children:"Ooooops!"}),Object(k.jsx)("p",{children:"\u0427\u0442\u043e-\u0442\u043e \u043f\u043e\u0448\u043b\u043e \u043d\u0435 \u0442\u0430\u043a..."})]})};var I=function(){var e=Object(o.c)((function(e){return e.serviceList})),t=e.items,n=e.loading,c=e.error,a=Object(o.b)();Object(r.useEffect)((function(){a(_())}),[a]);var i=function(e){a(function(e){return function(){var t=Object(b.a)(j.a.mark((function t(n){var r;return j.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n(y()),t.prev=1,t.next=4,fetch("".concat("https://thunk-back.herokuapp.com/api/services","/").concat(e),{method:"DELETE"});case 4:if((r=t.sent).ok){t.next=7;break}throw new Error(r.statusText);case 7:t.next=12;break;case 9:t.prev=9,t.t0=t.catch(1),n(S(t.t0.message));case 12:n(_());case 13:case"end":return t.stop()}}),t,null,[[1,9]])})));return function(e){return t.apply(this,arguments)}}()}(e))};return n?Object(k.jsx)(w,{}):c?Object(k.jsx)(T,{}):Object(k.jsx)("ul",{className:"list",children:t.map((function(e){return Object(k.jsxs)("li",{children:[e.name,": ",e.price,Object(k.jsx)(s.b,{to:"/services/".concat(e.id),children:Object(k.jsx)("button",{className:"edit-btn btn",children:"\u270e"})}),Object(k.jsx)("button",{className:"btn",onClick:function(){return i(e.id)},children:"x"})]},e.id)}))})};var D=function(){var e=Object(o.c)((function(e){return e.serviceAdd})),t=e.item,n=e.loading,r=e.error,c=Object(o.b)(),a=function(e){var t=e.target,n=t.name,r=t.value;c(function(e,t){return{type:l,payload:{name:e,value:t}}}(n,r))};return Object(k.jsxs)("form",{onSubmit:function(e){e.preventDefault();var n={name:t.name,price:t.price};c(C(n))},children:[Object(k.jsx)("input",{name:"name",value:t.name,onChange:a}),Object(k.jsx)("input",{name:"price",value:t.price,onChange:a}),Object(k.jsx)("button",{type:"submit",disabled:n,children:"Save"}),r&&Object(k.jsx)(T,{})]})};var R=function(){return Object(k.jsxs)(k.Fragment,{children:[Object(k.jsx)(D,{}),Object(k.jsx)(I,{})]})};var F=function(e){var t=e.match,n=Object(o.c)((function(e){return e.serviceEdit})),c=n.item,a=n.loading,u=n.error,l=n.success,p=Object(o.b)();Object(r.useEffect)((function(){var e;p((e=t.params.id,function(){var t=Object(b.a)(j.a.mark((function t(n){var r,c;return j.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n(y()),t.prev=1,t.next=4,fetch("".concat("https://thunk-back.herokuapp.com/api/services","/").concat(e));case 4:if((r=t.sent).ok){t.next=7;break}throw new Error(r.statusText);case 7:return t.next=9,r.json();case 9:c=t.sent,n({type:x,payload:{item:c}}),t.next=16;break;case 13:t.prev=13,t.t0=t.catch(1),n(S(t.t0.message));case 16:case"end":return t.stop()}}),t,null,[[1,13]])})));return function(e){return t.apply(this,arguments)}}()))}),[p,t.params.id]);var d=function(e){var t=e.target,n=t.name,r=t.value;p(function(e,t){return{type:E,payload:{name:e,value:t}}}(n,r))};return l?Object(k.jsx)(i.a,{to:"/"}):a?Object(k.jsx)(w,{}):u?Object(k.jsx)(T,{}):Object(k.jsxs)("form",{className:"form",onSubmit:function(e){e.preventDefault();var n={id:+t.params.id,name:c.name,price:c.price,content:c.content};p(C(n))},children:[Object(k.jsxs)("label",{children:[Object(k.jsx)("span",{children:"\u041d\u0430\u0437\u0432\u0430\u043d\u0438\u0435"}),Object(k.jsx)("input",{name:"name",value:c.name,onChange:d})]}),Object(k.jsxs)("label",{children:[Object(k.jsx)("span",{children:"\u0421\u0442\u043e\u0438\u043c\u043e\u0441\u0442\u044c"}),Object(k.jsx)("input",{name:"price",value:c.price,onChange:d})]}),Object(k.jsxs)("label",{children:[Object(k.jsx)("span",{children:"\u041e\u043f\u0438\u0441\u0430\u043d\u0438\u0435"}),Object(k.jsx)("textarea",{name:"content",value:c.content,onChange:d})]}),Object(k.jsx)(s.b,{to:"/",children:Object(k.jsx)("button",{type:"button",children:"\u041e\u0442\u043c\u0435\u043d\u0430"})}),Object(k.jsx)("button",{type:"submit",children:"\u0421\u043e\u0445\u0440\u0430\u043d\u0438\u0442\u044c"})]})};var V=function(){return Object(k.jsx)(s.a,{children:Object(k.jsx)("div",{className:"container",children:Object(k.jsxs)(i.d,{children:[Object(k.jsx)(i.b,{path:"/services/:id",component:F}),Object(k.jsx)(i.b,{path:"/services",component:R}),Object(k.jsx)(i.a,{exect:!0,from:"/",to:"/services"})]})})})},N=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,48)).then((function(t){var n=t.getCLS,r=t.getFID,c=t.getFCP,a=t.getLCP,s=t.getTTFB;n(e),r(e),c(e),a(e),s(e)}))},L=n(11),A=n(26),U=n(27),H=n.n(U),X=n(14),J=n(2),P={item:{name:"",price:""},loading:!1,error:null};var B={item:{id:"",name:"",price:"",content:""},loading:!1,error:null,success:!1};var G={items:[],loading:!1,error:null};var Q=Object(L.c)({serviceList:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:G,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case p:return Object(J.a)(Object(J.a)({},e),{},{loading:!0,error:null});case O:var n=t.payload.error;return Object(J.a)(Object(J.a)({},e),{},{loading:!1,error:n});case d:var r=t.payload.items;return Object(J.a)(Object(J.a)({},e),{},{items:r,loading:!1,error:null});case m:return Object(J.a)({},G);default:return e}},serviceAdd:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:P,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case l:var n=t.payload,r=n.name,c=n.value,a=e.item;return Object(J.a)(Object(J.a)({},e),{},{item:Object(J.a)(Object(J.a)({},a),{},Object(X.a)({},r,c))});case v:return Object(J.a)(Object(J.a)({},e),{},{loading:!0,error:null});case h:var s=t.payload.error;return Object(J.a)(Object(J.a)({},e),{},{loading:!1,error:s});case f:return Object(J.a)({},P);default:return e}},serviceEdit:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:B,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case E:var n=t.payload,r=n.name,c=n.value;return Object(J.a)(Object(J.a)({},e),{},{item:Object(J.a)(Object(J.a)({},e.item),{},Object(X.a)({},r,c))});case x:var a=t.payload.item;return Object(J.a)(Object(J.a)({},e),{},{item:{id:a.id,name:a.name,price:a.price,content:a.content},loading:!1,error:null,success:!1});case O:var s=t.payload.error;return Object(J.a)(Object(J.a)({},e),{},{loading:!1,error:s,success:!1});case p:return Object(J.a)(Object(J.a)({},e),{},{loading:!0,error:null,success:!1});case g:return Object(J.a)(Object(J.a)({},B),{},{loading:!1,success:!0});default:return e}}}),M=Object(L.e)(Q,Object(L.d)(Object(L.a)(A.a,H.a),window.__REDUX_DEVTOOLS_EXTENSION__&&window.__REDUX_DEVTOOLS_EXTENSION__()));a.a.render(Object(k.jsx)(o.a,{store:M,children:Object(k.jsx)(V,{})}),document.getElementById("root")),N()}},[[47,1,2]]]);
//# sourceMappingURL=main.35dc69c3.chunk.js.map